# WebDAV Server Configuration
# ============================================================

# Server name used in the virtual host
SERVER_NAME=localhost

# ---------------------------------------------------------------------------
# Folder Permissions
# ---------------------------------------------------------------------------
# Per-folder access control. Format (comma-separated):
#   /path:users:mode
#
#   path  — folder path under the data directory (must start with /)
#   users — "public"     = no authentication required
#           "*"          = any authenticated user
#           "alice bob"  = specific users (space-separated)
#   mode  — "ro" = read-only  (uses RO_METHODS)
#            "rw" = read-write (uses RW_METHODS)
#
# Example:
#   FOLDER_PERMISSIONS="/public:public:ro,/shared:*:ro,/private:alice bob:rw,/admin:admin:rw"
#
# Leave empty to use legacy single-root mode (controlled by *_ENABLED flags below).
FOLDER_PERMISSIONS="/public:public:ro,/private:*:ro"

# Automatically create folder directories at container startup
AUTO_CREATE_FOLDERS=true

# ---------------------------------------------------------------------------
# Allowed HTTP methods per access mode
# Override these to customise which methods are permitted per folder mode.
# ---------------------------------------------------------------------------
RO_METHODS="GET HEAD OPTIONS PROPFIND"
RW_METHODS="GET HEAD OPTIONS PROPFIND PUT DELETE MKCOL COPY MOVE LOCK UNLOCK PROPPATCH"

# ---------------------------------------------------------------------------
# LDAP Authentication
# ---------------------------------------------------------------------------
LDAP_ENABLED=false
LDAP_URL=ldaps://ldap.example.com
LDAP_ATTRIBUTE=uid
LDAP_BASE_DN=ou=users,dc=example,dc=com
LDAP_BIND_DN=uid=searchuser,ou=users,dc=example,dc=com
LDAP_BIND_PASSWORD=securepassword

# ---------------------------------------------------------------------------
# OAuth / OpenID Connect Authentication
# more options: https://github.com/OpenIDC/mod_auth_openidc
# ---------------------------------------------------------------------------
OAUTH_ENABLED=false
OIDCProviderMetadataURL="http://keycloak/keycloak-auth/realms/master/.well-known/openid-configuration"
OIDCRedirectURI="http://my-domain.local/redirect_uri"
OIDCCryptoPassphrase="randomly_generated_secure_passphrase"
OIDCClientID="webdav-client"
OIDCClientSecret="ABC123def456GHI789jkl0mnopqrs"
OIDCProviderTokenEndpointAuth="client_secret_basic"
OIDCRemoteUserClaim="preferred_username"
OIDCScope="openid email profile"
OIDCXForwardedHeaders="X-Forwarded-Host"

# ---------------------------------------------------------------------------
# Basic Authentication (bcrypt via htpasswd)
# Users format: "username:password" pairs, space-separated
# ---------------------------------------------------------------------------
BASIC_AUTH_ENABLED=true
BASIC_USERS="alice:alice123 bob:bob123"

# ---------------------------------------------------------------------------
# CORS
# ---------------------------------------------------------------------------
CORS_ENABLED=false
CORS_ORIGIN=*

# ---------------------------------------------------------------------------
# Health check endpoint (GET /_health → 200 OK)
# ---------------------------------------------------------------------------
HEALTH_CHECK_ENABLED=false
